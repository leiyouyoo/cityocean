<ion-header>
  <ion-toolbar>
    <div>
      <i (click)="goback()" class="go-back"></i>
      <h5 class="font-18">Booking Details</h5>
      <div class="bg-group">
        <i class="kefu"></i>
      </div>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="type-wrap">
    <app-business-type
      [title]="{title1:bookingDetail.bookingNo}"
      [status]="statusType[bookingDetail.status]"
    ></app-business-type>
  </div>
  <section class="request-wrap">
    <p>Booking request is submitted</p>
    <div *ngFor="let process of requestProcess"  [ngClass]="{ 'not-check-bg': !process.checked,'check-bg':process.checked}">
      <i class="checked-flag"></i>
      <span>{{process.name}}</span>
    </div>
    <div class="content-submitting">
      <h2 *ngIf="bookingDetail.status==1">Cancel request is submitted</h2>
      <h2 *ngIf="bookingDetail.status==2">Booking request is submitting</h2>
      <h2 *ngIf="bookingDetail.status==3">Shipping order is done</h2>
      <h2 *ngIf="bookingDetail.status==4">Freight quotes  is needed by City Ocean</h2>
      <h2 *ngIf="bookingDetail.status==5">Quote is waiting for comfirm by the customer</h2>
      <h2 *ngIf="bookingDetail.status==6">Quote is waiting for comfirm by the customer</h2>
      <h2 *ngIf="bookingDetail.status==7">shipping order is cancelled</h2>
      <div class="content-submitting-bottom"></div>
      <!-- <div class="content-submitting-step">
          <nz-steps [nzCurrent]="statusStep" nzDirection="vertical" nzSize="default" [nzStartIndex]="0"
              *ngIf="bookingDetail.status!=4&&bookingDetail.status!=5&&bookingDetail.status!=6">
              <nz-step nzTitle="Booking is received by City Ocean Staff"></nz-step>
              <nz-step nzTitle="Shipping order  is requested with the carrier."></nz-step>
              <nz-step nzTitle="Notified SO successfully with the customer."></nz-step>
              <nz-step nzTitle="Shipping order is done"></nz-step>
          </nz-steps>

          <nz-steps [nzCurrent]="statusStep" nzDirection="vertical" nzSize="default" [nzStartIndex]="0"
              *ngIf="bookingDetail.status==4">
              <nz-step nzTitle="Booking is received by City Ocean Staff"></nz-step>
              <nz-step nzTitle="Freight quote  is sended to the customer."></nz-step>
              <nz-step nzTitle="Shipping order  is requested with the carrier."></nz-step>
              <nz-step nzTitle="Notified SO successfully with the customer."></nz-step>
              <nz-step nzTitle="Shipping order is done"></nz-step>
          </nz-steps>

          <nz-steps [nzCurrent]="statusStep" nzDirection="vertical" nzSize="default" [nzStartIndex]="0"
              *ngIf="bookingDetail.status==5||bookingDetail.status==6">
              <nz-step nzTitle="Booking is received by City Ocean Staff"></nz-step>
              <nz-step nzTitle="Freight quote  is sended to the customer."></nz-step>
              <nz-step nzTitle="Quote  is comfirmed by the customer."></nz-step>
              <nz-step nzTitle="Shipping order  is requested with the carrier."></nz-step>
              <nz-step nzTitle="Notified SO successfully with the customer."></nz-step>
              <nz-step nzTitle="Shipping order is done"></nz-step>
          </nz-steps>
      </div> -->
  </div>



  </section>
  <section class="content-wrap base-wrap">
    <div class="detail-wrap">
      <label class="title">Basic</label>
      <p>
        <span>Cargo Ready day</span>
        <span>{{getTime(bookingDetail.cargoReadyDate)}}</span>
      </p>
      <p>
        <span>Incoterms</span>
        <span>{{bookingDetail.incotermsString}}</span>
      </p>
      <p>
        <span>Container Type</span>
        <span>{{getContainerType(bookingDetail)}}</span>
      </p>
      <div *ngIf="baseShow">
        <label class="title">Cargo</label>
        <p>
          <span>Quantity</span>
          <span>{{bookingDetail?.quantity}}</span>
        </p>
        <p>
          <span>Total Weight</span>
          <span>{{bookingDetail?.weight}}{{bookingDetail?.weightUnitString}}</span>
        </p>
        <p>
          <span>Total Volume</span>
          <span>{{bookingDetail?.volume}}{{bookingDetail?.volumeUnitString}}</span>
        </p>
        <ng-container *ngIf="bookingDetail?.isContainsSpecialGoods">
          <label class="title">Specifics</label>
          <label class="title">Description Of Products</label>
          <p>
            <span>PLASTIC STORAGE BOX PLASTIC STORAGE BOX</span>
          </p>
          <label class="title">Special goods</label>
          <p>
            <span>{{getSpecialGoodsName(bookingDetail?.containsSpecialGoodsTypes)}}</span>
          </p>
          <label class="title">Special Instructions</label>
          <p>
            <span>{{bookingDetail?.specialInstructions}}</span>
          </p>
        </ng-container>
      </div>
    </div>
    <div (click)="baseShow = !baseShow" class="control-group">
      <i class="arrow-bg" [ngClass]="{'baseShow': baseShow,'baseNotShow': !baseShow}"></i>
    </div>
  </section>
  <section class="content-wrap message-wrap">
    <div class="detail-wrap">
      <label class="title">Fron to</label>
      <p>
        <span>{{bookingDetail?.shipperAddress?.name}}</span>
      </p>
      <p>
        <span>{{bookingDetail?.shipperAddress?.tenantName}}</span>
      </p>
      <label class="title">起运地</label>
      <p [class]="bookingDetail?.status>=7?'arrival-location':'unarrival-location'">
        <span>{{bookingDetail.shipperAddress?.streetAddress}}</span>
      </p>

      <label [class]="bookingDetail?.status>=3?'left-line title':'left-dashed-line title'">起运港</label>
      <p [class]="bookingDetail?.status>=3?'arrival-location':'unarrival-location'">
        <span>{{bookingDetail?.originPort?.name}}</span>
      </p>

      <label [class]="bookingDetail?.status>=5?'left-line title':'left-dashed-line title'">目的港</label>
      <p [class]="bookingDetail?.status>=7?'arrival-location':'unarrival-location'">
        <span>{{bookingDetail?.destinationPort?.name}}</span>
      </p>

      <label [class]="bookingDetail?.status>=7?'left-line':'left-dashed-line title'">目的地</label>
      <p [class]="bookingDetail?.status>=7?'arrival-location':'unarrival-location'">
        <span>{{bookingDetail?.consigneeAddress?.streetAddress}}</span>
      </p>
    </div>
  </section>
</ion-content>
